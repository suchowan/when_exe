# -*- coding: utf-8 -*-
=begin
  Copyright (C) 2011-2013 Takashi SUGA

  You may use and/or modify this file according to the license
  described in the LICENSE.txt file included in this archive.
=end

module Test

  class Thai < Test::Unit::TestCase
    def test_thai_date

      date = When.Resource('_c:ThaiC') ^ When.when?('2011-05-16')
      [["1373-07-14", 2455698],
       ["1373-07-15", 2455699],
       ["1373-07<01", 2455700]].each do |sample|
        assert_equal(sample, [date.to_s, date.to_i])
        date += When.Duration('P1D')
      end
      
      [["1373-07<02", 2455701],
       ["1373-08-02", 2455716],
       ["1373-08<02", 2455731],
       ["1373-09-02", 2455745],
       ["1373-09<02", 2455760],
       ["1373-10-02", 2455775],
       ["1373-10<02", 2455790],
       ["1373-11-02", 2455804],
       ["1373-11<02", 2455819],
       ["1373-12-02", 2455834]].each do |sample|
        assert_equal(sample, [date.to_s, date.to_i])
        date += When.Duration('P1M')
      end
      
      date = When.Resource('_c:ThaiB') ^ When.when?('2011-05-16')
      [["1373-06-14", 2455698],
       ["1373-06-15", 2455699],
       ["1373-06<01", 2455700]].each do |sample|
        assert_equal(sample, [date.to_s, date.to_i])
        date += When.Duration('P1D')
      end
      
      [["1373-06<02", 2455701],
       ["1373-07-02", 2455716],
       ["1373-07<02", 2455731],
       ["1373-08-02", 2455745],
       ["1373-08<02", 2455760],
       ["1373-09-02", 2455775],
       ["1373-09<02", 2455790],
       ["1373-10-02", 2455804],
       ["1373-10<02", 2455819],
       ["1373-11-02", 2455834],
       ["1373-11<02", 2455849],
       ["1373-12-02", 2455863],
       ["1373-12<02", 2455878],
       ["1374-01-02", 2455893],
       ["1374-01<02", 2455908],
       ["1374-02-02", 2455922],
       ["1374-02<02", 2455937],
       ["1374-03-02", 2455952],
       ["1374-03<02", 2455967],
       ["1374-04-02", 2455981],
       ["1374-04<02", 2455996],
       ["1374-05-02", 2456011],
       ["1374-05<02", 2456026],
       ["1374-06-02", 2456040],
       ["1374-06<02", 2456055],
       ["1374-07-02", 2456070],
       ["1374-07<02", 2456085],
       ["1374-08&02", 2456099],
       ["1374-08*02", 2456114],
       ["1374-08-02", 2456129],
       ["1374-08<02", 2456144],
       ["1374-09-02", 2456159],
       ["1374-09<02", 2456174],
       ["1374-10-02", 2456188],
       ["1374-10<02", 2456203],
       ["1374-11-02", 2456218],
       ["1374-11<02", 2456233],
       ["1374-12-02", 2456247],
       ["1374-12<02", 2456262],
       ["1375-01-02", 2456277]].each do |sample|
        assert_equal(sample, [date.to_s, date.to_i])
        date += When.Duration('P1M')
      end

      date = When.when?('1374-08&02', {:frame=>When.Resource('_c:ThaiB')})
      assert_equal(["1374-08&02", 2456099, "adhika Āṣāḍha Śuklapakṣa"],
                   [date.to_s, date.to_i, date.name('Month').translate('en')])
    end
  end
end

